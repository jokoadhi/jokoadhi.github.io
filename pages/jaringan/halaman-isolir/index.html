<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Halaman Isolir Pelanggan</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />

    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="../../../style/style2.css" />
    <link rel="icon" type="image/png" href="/ico.png" />
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4435345623883384"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <div id="loadingOverlay" style="display: none">
      <div id="loaderStatus">
        <div class="spinner-vip"></div>
      </div>
      <h5 id="loadingText">Memverifikasi Akses...</h5>
    </div>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand ms-3" href="/../../index.html"
          >ðŸ“š Joko Adhi Docs</a
        >
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto me-3">
            <li class="nav-item">
              <a class="nav-link" href="/../../index.html#modules"
                >Modul Utama</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/../../index.html#about">Tentang</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container-fluid">
      <div class="row">
        <nav
          id="sidebarMenu"
          class="col-md-3 col-lg-2 d-md-block sidebar collapse"
        >
          <div class="position-sticky pt-3">
            <h5
              class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted text-uppercase"
            >
              Jaringan
            </h5>

            <hr class="my-3" />
            <h6
              class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted text-uppercase"
            >
              Daftar isi
            </h6>

            <ul class="nav flex-column mb-2">
              <li class="nav-item">
                <a class="nav-link font-weight-bold" href="#awal">
                  1. Penjelasan halaman isolir
                </a>
              </li>

              <li class="nav-item">
                <a class="nav-link font-weight-bold" href="#langkah">
                  2. langkah-langkah konfigurasi
                </a>
              </li>
            </ul>

            <hr class="my-3" />

            <div class="p-3 text-center">
              <div
                style="
                  background-color: #f8f9fa;
                  height: 250px;
                  border: 1px dashed #ccc;
                  padding: 10px;
                "
              >
                <small class="d-block mt-2 text-muted">Sponsor Ads</small>
              </div>
            </div>
          </div>
        </nav>

        <main
          class="col-md-9 ms-sm-auto col-lg-10 main-content main-content-vip"
        >
          <div class="container-fluid breadcrumb-fixed-offset mb-4">
            <nav style="--bs-breadcrumb-divider: '>'" aria-label="breadcrumb">
              <ol class="breadcrumb mb-0">
                <li class="breadcrumb-item"><a href="/">Home</a></li>

                <li class="breadcrumb-item active" aria-current="page">
                  Membuat Halaman Isolir Pelanggan
                </li>
              </ol>
            </nav>
          </div>

          <h1 class="mb-4">
            MEMBUAT HALAMAN ISOLIR PELANGGAN PPPOE PADA MIKROTIK
          </h1>
          <p class="text-muted">Diperbarui: 8 Januari 2026</p>

          <hr class="mb-5" />
          <article>
            <section id="awal" class="mb-5 mt-4">
              <h2>1. Apa Itu Halaman Isolir dan Fungsinya?</h2>
              <p>
                Halaman isolir adalah halaman untuk pelanggan yang masa aktif
                dari internetnya sudah kadaluarsa, biasanya kan ketika pelanggan
                diisolir akan hanya mematikan internet dari onu pelanggan, terus
                pelanggan tidak tau kenapa internetnya mati, bisa dikira karena
                terkendala pada alatnya atau pada kabel jalurnya, maka dibuatlah
                halaman isolir ini.
              </p>
              <p>
                Lalu apa fungsi dari halaman isolir ini?, fungsinya adalah
                ketika pelanggan ter-isolir, maka smartphone yang digunakan
                pelanggan ketika konek ulang ke wifinya akan muncul notifikasi
                captive portal, ketika pelanggan meng-klik notifikasi tersebut,
                maka akan otomatis dialihkan ke halaman isolirnya, isinya bisa
                berupa pemberitahuan saja mengenai internet sedang ter-isolir
                atau bisa juga sekalian ditampilkan invoice tagihannya saat ini
                yang belum terbayarkan.
              </p>
            </section>

            <h2 id="langkah">2. Langkah-langkah Konfigurasi Pada Mikrotik</h2>
            <p>
              Set DNS static yang mengarah ke ip lokal mikrotik, Perintah ini
              bertujuan untuk "menipu" fitur pendeteksi internet pada smartphone
              (Android/iPhone). Dengan mengarahkan domain check ke IP router, HP
              pelanggan akan segera memunculkan notifikasi "Masuk ke Jaringan"
              atau "Sign in to network" secara otomatis begitu mereka terhubung,
              IP 10.5.50.1 disesuaikan dengan IP mikrotik
            </p>
            <pre><code>/ip dns
set allow-remote-requests=yes servers=8.8.8.8
/ip dns static
add address=10.5.50.1 name=connectivitycheck.gstatic.com
add address=10.5.50.1 name=connectivitycheck.android.com
add address=10.5.50.1 name=captive.apple.com
add address=10.5.50.1 name=detectportal.firefox.com
add address=10.5.50.1 name=msftconnecttest.com</code></pre>
            <br />

            <p>
              Set Address-List yang mengarah ke Whatsapp, Berisi rentang IP
              server milik Meta. Ini disiapkan agar kita bisa membuka akses
              WhatsApp secara spesifik meskipun internet lainnya ditutup
            </p>
            <p>
              <i>
                note: untuk isolir pelanggan kita jadikan yang bisa diakses
                hanya whatsapp saja, lainnya terblokir.
              </i>
            </p>
            <pre><code>/ip firewall address-list
add address=157.240.0.0/16 list=wa-chat-fixed
add address=31.13.24.0/21 list=wa-chat-fixed
add address=173.252.64.0/18 list=wa-chat-fixed
add address=103.4.96.0/22 list=wa-chat-fixed</code></pre>
            <br />

            <p>
              Membuat izin Akses ke Server Billing & DNS, Rule 1: Memberikan
              pengecualian agar pelanggan isolir tetap bisa mengakses IP Server
              billing (10.11.15.254) tempat halaman pembayaran berada. Rule 2, 3
              dan 4 : Membuka jalur DNS (port 53) agar HP pelanggan tetap bisa
              mencari alamat server WhatsApp atau Billing, jika ini ditutup maka
              aplikasi akan "blank". IP 10.11.15.254 sesuaikan dengan IP server
              halaman isolir.
            </p>
            <pre><code>/ip firewall filter
add action=accept chain=forward dst-address=10.11.15.254 src-address-list=isolir
add action=accept chain=input dst-port=53 protocol=udp src-address-list=isolir
add action=accept chain=forward dst-port=53 protocol=udp src-address-list=isolir
add action=accept chain=forward dst-port=53 protocol=tcp src-address-list=isolir</code></pre>
            <br />

            <p>
              Buka port untuk chat Whatsapp, Membuka port 5222 yang merupakan
              jalur resmi untuk trafik Pesan Teks (Chat) WhatsApp. Dengan
              membuka ini dan subnet terkait, pelanggan tetap bisa menghubungi
              Admin lewat WA, tetapi belum tentu bisa mengirim video/gambar
              karena port media (443) masih diblokir di rule bawah.
            </p>
            <pre><code>/ip firewall filter
add action=accept chain=forward dst-port=5222 protocol=tcp src-address-list=isolir
add action=accept chain=forward dst-address-list=wa-chat-fixed src-address-list=isolir</code></pre>
            <br />

            <p>
              Blokir Facebook, Karena Facebook menggunakan IP yang sama dengan
              WhatsApp, kita menggunakan fitur tls-host untuk menyaring nama
              domain. Jika trafik terdeteksi menuju Facebook, maka router akan
              langsung memutusnya (Drop).
            </p>
            <pre><code>add action=drop chain=forward comment="Block FB App" protocol=tcp src-address-list=isolir tls-host=*facebook.com*
add action=drop chain=forward protocol=tcp src-address-list=isolir tls-host=*messenger.com*</code></pre>
            <br />

            <p>
              Blokir streaming video dan internet sisanya, Rule 1: Mematikan
              protokol UDP yang digunakan oleh TikTok dan Instagram untuk
              streaming video (QUIC). Hasilnya, video akan terus berputar
              (buffering). Rule 2 : Aturan terakhir yang memastikan tidak ada
              aplikasi atau website lain yang bisa diakses selain yang sudah
              diizinkan di atas.
            </p>
            <pre><code>add action=drop chain=forward dst-port=!53 protocol=udp src-address-list=isolir
add action=drop chain=forward src-address-list=isolir</code></pre>
            <br />

            <p>
              Forward ke halaman isolir via Web Proxy, Rule 3 berfungsi
              menangkap semua permintaan buka website (Port 80/HTTP) dari
              pelanggan isolir dan membelokkannya secara paksa ke Web Proxy
              internal router di port 8080. Rule 1 dan 2 berfungsi memaksa semua
              permintaan DNS dari HP pelanggan isolir untuk dijawab oleh
              MikroTik sendiri, meskipun pelanggan mencobamenggunakan DNS lain
              (seperti DNS Google 8.8.8.8 atau DNS Cloudflare 1.1.1.1. IP
              10.11.15.254 sesuaikan dengan IP server halaman isolir.)
            </p>
            <pre><code>/ip firewall nat
add action=redirect chain=dstnat dst-port=53 protocol=udp src-address-list=isolir to-ports=53
add action=redirect chain=dstnat dst-port=53 protocol=tcp src-address-list=isolir to-ports=53
add action=redirect chain=dstnat dst-address=!10.11.15.254 dst-port=80 protocol=tcpsrc-address-list=isolir to-ports=8080</code></pre>
            <br />

            <p>
              Set Web Proxy, Di sinilah keputusan akhir dibuat. Web Proxy akan
              menolak (Deny) permintaan browsing pelanggan dan melemparkannya ke
              alamat URL server billing Anda. Di sana, script PHP akan memproses
              IP pelanggan dan menampilkan status tagihan mereka. Untuk url
              10.11.15.254/isolir/cek.php sesuaikan dengan url halaman isolir
              dan IP 10.11.15.254 sesuaikan dengan IP Server halaman isolir.
            </p>
            <pre><code>/ip proxy
set cache-administrator=admin enabled=yes max-cache-size=none
/ip proxy access
add dst-address=10.11.15.254
add action=deny redirect-to=10.11.15.254/isolir/cek.php</code></pre>
            <br />

            <p>Urutan pada Filter Rules</p>
            <figure class="figure mt-0 mb-4">
              <img
                src="/../../img/halaman-isolir/1.png"
                class="img-fluid rounded shadow"
                alt="filter rules"
              />
            </figure>

            <p>Urutan pada NAT</p>
            <figure class="figure mt-0 mb-4">
              <img
                src="/../../img/halaman-isolir/2.png"
                class="img-fluid rounded shadow"
                alt="nat"
              />
            </figure>

            <p>Urutan pada Web Proxy Access</p>
            <figure class="figure mt-0 mb-4">
              <img
                src="/../../img/halaman-isolir/3.png"
                class="img-fluid rounded shadow"
                alt="web proxy access"
              />
            </figure>
            <br /><br />
            <p>
              Sampai langkah ini harusnya hp pelanggan sudah mendapatkan
              notifikasi captive portal ke halaman isolir ketika terisolir.
            </p>
          </article>

          <hr />

          <div class="text-center mt-5 mb-5 p-3 bg-light rounded shadow-sm">
            **Selesai.** Anda telah mencapai akhir dari topik ini. Silakan pilih
            topik lain melalui Sidebar di sebelah kiri atau kembali ke
            <a href="/../../index.html" class="text-decoration-none"
              >Halaman Modul Utama</a
            >.
          </div>
        </main>
      </div>
    </div>

    <div
      class="modal fade"
      id="paymentModal"
      data-bs-backdrop="static"
      data-bs-keyboard="false"
      tabindex="-1"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content border-0 shadow-lg">
          <div class="modal-header bg-warning text-dark">
            <h5 class="modal-title fw-bold">ðŸš€ Akses Modul VIP</h5>
          </div>
          <div class="modal-body p-4">
            <p>
              Modul ini eksklusif. Silakan bayar <b>Rp 25.000</b> melalui
              Saweria untuk akses selamanya (Maks. 2 Perangkat).
            </p>
            <div class="d-grid gap-2 mb-4">
              <a
                href="https://saweria.co/jokoadhi"
                target="_blank"
                class="btn btn-warning fw-bold shadow-sm"
                id="paySaweria"
              >
                ðŸ’° Bayar via Saweria
              </a>
            </div>
            <hr />
            <label class="form-label small fw-bold"
              >Sudah Bayar? Masukkan Email Transaksi:</label
            >
            <div class="input-group mb-3">
              <input
                type="text"
                id="invoiceInput"
                class="form-control"
                placeholder="Contoh: SWR-2024XXXX"
              />
              <button class="btn btn-dark" type="button" id="btnVerify">
                Buka Akses
              </button>
            </div>
            <p class="text-muted" style="font-size: 0.75rem">
              *Email Transaksi adalah password Anda. Simpan dengan baik.
            </p>
          </div>
        </div>
      </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="/script/script.js"></script>
  </body>
</html>
